<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Harmonia - Minist√©rio de Louvor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <div class="logo-circle">H</div>
      <div class="brand-text">
        <h1>Harmonia</h1>
        <span>Gest√£o de Minist√©rio de Louvor</span>
      </div>
    </div>

    <nav class="tabs">
      <button class="tab-btn active" data-tab="escala">üìÖ Escala</button>
      <button class="tab-btn" data-tab="trocas">üîÑ Trocas</button>
      <button class="tab-btn" data-tab="musicas">üéµ M√∫sicas</button>
      <button class="tab-btn" data-tab="cultos">‚õ™ Cultos</button>
      <button class="tab-btn" data-tab="membros">üë• Membros</button>
      <button class="tab-btn" data-tab="historico">üìã Hist√≥rico</button>
      <button class="tab-btn" data-tab="config">‚öôÔ∏è Config</button>
    </nav>
  </header>

  <main class="app-main">
    <!-- ESCALA MENSAL -->
    <section id="escala" class="section active">
      <div class="section-title">
        <h2>Escala Mensal</h2>
        <p>Visualize e gerencie a escala de minist√©rio do m√™s.</p>
      </div>

      <div class="card">
        <div class="escala-controls">
          <div class="month-selector">
            <select id="escalaMes">
              <option value="1">Janeiro</option>
              <option value="2">Fevereiro</option>
              <option value="3">Mar√ßo</option>
              <option value="4">Abril</option>
              <option value="5">Maio</option>
              <option value="6">Junho</option>
              <option value="7">Julho</option>
              <option value="8">Agosto</option>
              <option value="9">Setembro</option>
              <option value="10">Outubro</option>
              <option value="11">Novembro</option>
              <option value="12">Dezembro</option>
            </select>
            <select id="escalaAno">
              <option value="2024">2024</option>
              <option value="2025" selected>2025</option>
              <option value="2026">2026</option>
            </select>
          </div>
          <div class="escala-actions">
            <button class="btn secondary" id="btnCarregarEscala">üìÖ Carregar Escala</button>
            <button class="btn primary" id="btnCriarEscala" style="display:none;">‚ûï Criar Nova Escala</button>
            <button class="btn success" id="btnAprovarEscala" style="display:none;">‚úÖ Aprovar Escala</button>
          </div>
        </div>
      </div>

      <div id="escalaCalendario" class="escala-calendario">
        <!-- Calend√°rio ser√° renderizado aqui -->
      </div>

      <!-- Modal para adicionar m√∫sica -->
      <div id="modalAdicionarMusica" class="modal" style="display:none;">
        <div class="modal-content">
          <span class="close">&times;</span>
          <h3>Adicionar M√∫sica ao Dia</h3>
          <form id="formAdicionarMusica">
            <input type="hidden" id="musicaData" />
            <div class="field-group">
              <label for="musicaTitulo">T√≠tulo da M√∫sica</label>
              <input id="musicaTituloModal" type="text" required />
            </div>
            <div class="field-group">
              <label for="musicaTomModal">Tom</label>
              <input id="musicaTomModal" type="text" placeholder="Ex: G, C, D..." />
            </div>
            <div class="field-group">
              <label for="musicaLinkModal">Link (YouTube, CifraClub, etc.)</label>
              <input id="musicaLinkModal" type="url" placeholder="https://..." />
            </div>
            <div class="modal-actions">
              <button type="button" class="btn secondary" onclick="fecharModal('modalAdicionarMusica')">Cancelar</button>
              <button type="submit" class="btn primary">Adicionar</button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- TROCAS DE ESCALA -->
    <section id="trocas" class="section">
      <div class="section-title">
        <h2>Trocas de Escala</h2>
        <p>Solicite e gerencie trocas de datas na escala.</p>
      </div>

      <div class="grid-2">
        <div class="card">
          <h3>Solicitar Troca</h3>
          <form id="formSolicitarTroca">
            <div class="field-group">
              <label for="trocaEscala">Escala</label>
              <select id="trocaEscala" required>
                <option value="">Selecione uma escala</option>
              </select>
            </div>
            <div class="field-group">
              <label for="trocaData">Sua Data (que quer trocar)</label>
              <input id="trocaData" type="date" required />
            </div>
            <div class="field-group">
              <label for="trocaReceptor">Trocar com</label>
              <select id="trocaReceptor" required>
                <option value="">Selecione um membro</option>
              </select>
            </div>
            <div class="field-group">
              <label for="trocaObservacao">Observa√ß√£o (opcional)</label>
              <textarea id="trocaObservacao" rows="2" placeholder="Motivo da troca..."></textarea>
            </div>
            <button type="submit" class="btn primary">Solicitar Troca</button>
          </form>
        </div>

        <div class="card">
          <h3>Minhas Trocas</h3>
          <div id="listaTrocas" class="list">
            <!-- Lista de trocas ser√° renderizada aqui -->
          </div>
        </div>
      </div>

      <!-- Cards de Trocas Pendentes (para l√≠deres) -->
      <div id="trocasPendentes" class="card" style="display:none;">
        <h3>Trocas Pendentes de Aprova√ß√£o</h3>
        <div id="listaTrocasPendentes" class="list">
          <!-- Lista ser√° renderizada aqui -->
        </div>
      </div>
    </section>

    <!-- M√öSICAS -->
    <section id="musicas" class="section">
      <div class="section-title">
        <h2>M√∫sicas</h2>
        <p>Cadastre e gerencie o repert√≥rio do minist√©rio.</p>
      </div>

      <div class="grid-2">
        <div class="card">
          <h3>Nova m√∫sica</h3>
          <form id="formMusica">
            <div class="field-group">
              <label for="musicaTitulo">T√≠tulo</label>
              <input id="musicaTitulo" type="text" required />
            </div>
            <div class="field-group">
              <label for="musicaTom">Tom original</label>
              <input id="musicaTom" type="text" placeholder="Ex: G, A, F#..." />
            </div>
            <div class="field-group">
              <label for="musicaLink">Link (YouTube / Cifra)</label>
              <input id="musicaLink" type="url" placeholder="https://..." />
            </div>
            <div class="field-group">
              <label for="musicaCifra">Cifra / acordes (opcional)</label>
              <textarea id="musicaCifra" rows="4" placeholder="Ex: G  D  Em  C&#10;C  D  G  Em"></textarea>
              <small>Use uma linha por compasso ou parte da m√∫sica. Os acordes ser√£o transpostos automaticamente.</small>
            </div>
            <div class="field-group">
              <label for="musicaObs">Observa√ß√µes</label>
              <textarea id="musicaObs" rows="2" placeholder="Intro, din√¢micas, quem entra em cada parte..."></textarea>
            </div>
            <button class="btn primary" type="submit">Salvar m√∫sica</button>
          </form>
        </div>

        <div class="card">
          <h3>Lista de m√∫sicas</h3>
          <div id="listaMusicas" class="list"></div>
        </div>
      </div>

      <div class="card" id="musicaDetalhesCard" style="display:none;">
        <h3>Mapa / detalhes da m√∫sica</h3>
        <div id="musicaDetalhes"></div>
      </div>
    </section>

    <!-- CULTOS / MAPAS -->
    <section id="cultos" class="section">
      <div class="section-title">
        <h2>Cultos / Mapas</h2>
        <p>Monte o mapa do culto com m√∫sicas em ordem.</p>
      </div>

      <div class="grid-2">
        <div class="card">
          <h3>Novo culto</h3>
          <form id="formCulto">
            <div class="field-group">
              <label for="cultoData">Data</label>
              <input id="cultoData" type="date" required />
            </div>
            <div class="field-group">
              <label for="cultoNome">Nome do culto</label>
              <input id="cultoNome" type="text" placeholder="Domingo Noite, Quinta, etc." required />
            </div>
            <div class="field-group">
              <label for="cultoMusicas">M√∫sicas (ordem do culto)</label>
              <select id="cultoMusicas" multiple size="6"></select>
              <small>Segure Ctrl (ou toque) para selecionar v√°rias m√∫sicas.</small>
            </div>
            <button class="btn primary" type="submit">Criar culto / mapa</button>
          </form>
        </div>

        <div class="card">
          <h3>Cultos criados</h3>
          <div id="listaCultos" class="list"></div>
        </div>
      </div>

      <div class="card" id="cultoDetalhesCard" style="display:none;">
        <h3>Detalhes do culto</h3>
        <div id="cultoDetalhes"></div>
      </div>
    </section>

    <!-- MEMBROS -->
    <section id="membros" class="section">
      <div class="section-title">
        <h2>Membros</h2>
        <p>Cadastre quem faz parte do minist√©rio.</p>
      </div>

      <div class="grid-2">
        <div class="card">
          <h3>Novo membro</h3>
          <form id="formMembro">
            <div class="field-group">
              <label for="membroNome">Nome</label>
              <input id="membroNome" type="text" required />
            </div>
            <div class="field-group">
              <label for="membroVoz">Voz / Se√ß√£o</label>
              <select id="membroVoz">
                <option value="">Selecione</option>
                <option value="Soprano">Soprano</option>
                <option value="Contralto">Contralto</option>
                <option value="Tenor">Tenor</option>
                <option value="Baixo">Baixo</option>
                <option value="Instrumentista">Instrumentista</option>
                <option value="T√©cnico">T√©cnico</option>
              </select>
            </div>
            <div class="field-group">
              <label for="membroFuncao">Fun√ß√£o</label>
              <input id="membroFuncao" type="text" placeholder="Ex: Voz l√≠der, teclado..." />
            </div>
            <div class="field-group">
              <label for="membroAniversario">Anivers√°rio</label>
              <input id="membroAniversario" type="date" />
            </div>
            <button class="btn primary" type="submit">Salvar membro</button>
          </form>
        </div>

        <div class="card">
          <h3>Lista de membros</h3>
          <div id="listaMembros" class="list"></div>
        </div>
      </div>
    </section>

    <!-- ANIVERS√ÅRIOS -->
    <section id="aniversarios" class="section">
      <div class="section-title">
        <h2>Anivers√°rios do m√™s</h2>
        <p>Veja quem faz anivers√°rio neste m√™s.</p>
      </div>
      <div class="card">
        <div id="listaAniversariantes" class="list"></div>
      </div>
    </section>

    <!-- HIST√ìRICO -->
    <section id="historico" class="section">
      <div class="section-title">
        <h2>Hist√≥rico de A√ß√µes</h2>
        <p>Acompanhe todas as a√ß√µes realizadas no sistema.</p>
      </div>

      <div class="card">
        <div class="historico-filters">
          <div class="filter-group">
            <label for="filtroUsuario">Usu√°rio:</label>
            <select id="filtroUsuario">
              <option value="">Todos os usu√°rios</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="filtroAcao">A√ß√£o:</label>
            <select id="filtroAcao">
              <option value="">Todas as a√ß√µes</option>
              <option value="escala_criada">Escala criada</option>
              <option value="escala_aprovada">Escala aprovada</option>
              <option value="troca_solicitada">Troca solicitada</option>
              <option value="troca_aprovada">Troca aprovada</option>
              <option value="musica_adicionada">M√∫sica adicionada</option>
              <option value="musica_excluida">M√∫sica exclu√≠da</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="filtroDataInicio">De:</label>
            <input id="filtroDataInicio" type="date" />
          </div>
          <div class="filter-group">
            <label for="filtroDataFim">At√©:</label>
            <input id="filtroDataFim" type="date" />
          </div>
          <button class="btn secondary" id="btnFiltrarHistorico">üîç Filtrar</button>
        </div>
        <div id="listaHistorico" class="historico-list">
          <!-- Hist√≥rico ser√° renderizado aqui -->
        </div>
      </div>
    </section>

    <!-- CONFIG -->
    <section id="config" class="section">
      <div class="section-title">
        <h2>Configura√ß√µes</h2>
        <p>Op√ß√µes gerais do app.</p>
      </div>

      <div class="card">
        <h3>Tela ligada</h3>
        <p>
          Ative para tentar manter a tela do dispositivo ligada durante o culto.<br />
          <small>Nem todos os aparelhos/navegadores suportam esse recurso.</small>
        </p>
        <button class="btn primary" id="btnWakeLock">Ativar Manter Tela Ligada</button>
      </div>

      <div class="card">
        <h3>Dados</h3>
        <button class="btn danger" id="btnLimparDados">Apagar todos os dados (local)</button>
        <p><small>Use com cuidado ‚Äì isso apaga m√∫sicas, membros e cultos salvos neste dispositivo.</small></p>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <span>Harmonia ‚Ä¢ Minist√©rio de Louvor</span>
  </footer>

  <script src="js/app.js"></script>
</body>
</html>
